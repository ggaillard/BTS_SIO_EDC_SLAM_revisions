
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Programme de révision pour l'épreuve E6 du BTS SIO SLAM">
      
      
        <meta name="author" content="Votre Nom">
      
      
        <link rel="canonical" href="https://ggaillard.github.io/BTS_SIO_EDC_SLAM_revisions/Module5_S%C3%A9curit%C3%A9R%C3%A9seau/02_Contenu/">
      
      
        <link rel="prev" href="../01_PositionnementQCM/">
      
      
        <link rel="next" href="../03_AutoEvaluationQCM/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Contenu du module - BTS SIO SLAM E6 - Révision</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-5-securite-des-applications-et-des-services-web" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="BTS SIO SLAM E6 - Révision" class="md-header__button md-logo" aria-label="BTS SIO SLAM E6 - Révision" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BTS SIO SLAM E6 - Révision
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Contenu du module
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer au mode sombre"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer au mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer au mode clair"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer au mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Module1_AnalyseRisques/01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M1 - Analyse des risques

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Module2_RGPD/01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M2 - RGPD

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Module3_Authentification/01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M3 - Authentification

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Module4_S%C3%A9curisationCode/01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M4 - Sécurisation du code

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M5 - Sécurité réseau

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Module6_GestionIncidents/01_PositionnementQCM/" class="md-tabs__link">
          
  
  
  M6 - Gestion des incidents

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BTS SIO SLAM E6 - Révision" class="md-nav__button md-logo" aria-label="BTS SIO SLAM E6 - Révision" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    BTS SIO SLAM E6 - Révision
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M1 - Analyse des risques
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            M1 - Analyse des risques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module1_AnalyseRisques/01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module1_AnalyseRisques/02_Contenu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module1_AnalyseRisques/03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M2 - RGPD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            M2 - RGPD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module2_RGPD/01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module2_RGPD/02_Contenu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module2_RGPD/03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M3 - Authentification
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            M3 - Authentification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module3_Authentification/01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module3_Authentification/02_Contenu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module3_Authentification/03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M4 - Sécurisation du code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            M4 - Sécurisation du code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module4_S%C3%A9curisationCode/01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module4_S%C3%A9curisationCode/02_Contenu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module4_S%C3%A9curisationCode/03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    M5 - Sécurité réseau
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            M5 - Sécurité réseau
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exercice-51-configuration-des-en-tetes-de-securite-http-20-min" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 5.1 : Configuration des en-têtes de sécurité HTTP (20 min)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 5.1 : Configuration des en-têtes de sécurité HTTP (20 min)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rappel-theorique" class="md-nav__link">
    <span class="md-ellipsis">
      Rappel théorique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enonce" class="md-nav__link">
    <span class="md-ellipsis">
      Énoncé
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correction" class="md-nav__link">
    <span class="md-ellipsis">
      Correction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Correction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-configuration-des-en-tetes-de-securite" class="md-nav__link">
    <span class="md-ellipsis">
      1. Configuration des en-têtes de sécurité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-role-de-chaque-en-tete" class="md-nav__link">
    <span class="md-ellipsis">
      2. Rôle de chaque en-tête
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-implementation-dans-differents-environnements" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implémentation dans différents environnements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-52-securisation-des-api-rest-20-min" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 5.2 : Sécurisation des API REST (20 min)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 5.2 : Sécurisation des API REST (20 min)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rappel-theorique_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rappel théorique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enonce_1" class="md-nav__link">
    <span class="md-ellipsis">
      Énoncé
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Correction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Correction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-risques-de-securite-specifiques" class="md-nav__link">
    <span class="md-ellipsis">
      1. Risques de sécurité spécifiques
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-strategie-dauthentification-et-dautorisation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Stratégie d'authentification et d'autorisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-validation-des-entrees-et-limitation-de-debit" class="md-nav__link">
    <span class="md-ellipsis">
      3. Validation des entrées et limitation de débit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-53-securisation-du-deploiement-dapplications-20-min" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 5.3 : Sécurisation du déploiement d'applications (20 min)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 5.3 : Sécurisation du déploiement d&#39;applications (20 min)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rappel-theorique_2" class="md-nav__link">
    <span class="md-ellipsis">
      Rappel théorique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enonce_2" class="md-nav__link">
    <span class="md-ellipsis">
      Énoncé
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#correction_2" class="md-nav__link">
    <span class="md-ellipsis">
      Correction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Correction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-strategie-cicd-avec-controles-de-securite" class="md-nav__link">
    <span class="md-ellipsis">
      1. Stratégie CI/CD avec contrôles de sécurité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-gestion-securisee-des-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      2. Gestion sécurisée des secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-checklist-de-securite-pre-deploiement" class="md-nav__link">
    <span class="md-ellipsis">
      3. Checklist de sécurité pré-déploiement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    M6 - Gestion des incidents
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            M6 - Gestion des incidents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module6_GestionIncidents/01_PositionnementQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QCM de positionnement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module6_GestionIncidents/02_Contenu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenu du module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Module6_GestionIncidents/03_AutoEvaluationQCM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Auto-évaluation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="module-5-securite-des-applications-et-des-services-web">Module 5 : Sécurité des applications et des services web</h1>
<h2 id="exercice-51-configuration-des-en-tetes-de-securite-http-20-min">Exercice 5.1 : Configuration des en-têtes de sécurité HTTP (20 min)</h2>
<h3 id="rappel-theorique">Rappel théorique</h3>
<p>Les en-têtes de sécurité HTTP sont des directives envoyées par le serveur web au navigateur client pour renforcer la sécurité d'une application web. Ils constituent une couche de défense supplémentaire contre diverses attaques web comme le XSS, le clickjacking ou les fuites d'informations. Voici les en-têtes les plus importants :</p>
<ul>
<li><strong>Content-Security-Policy (CSP)</strong> : Contrôle les ressources que le navigateur est autorisé à charger</li>
<li><strong>X-XSS-Protection</strong> : Active la protection intégrée du navigateur contre les attaques XSS</li>
<li><strong>X-Content-Type-Options</strong> : Empêche le navigateur de deviner le type MIME des ressources</li>
<li><strong>X-Frame-Options</strong> : Protège contre les attaques de type clickjacking</li>
<li><strong>Strict-Transport-Security (HSTS)</strong> : Force les connexions HTTPS</li>
<li><strong>Referrer-Policy</strong> : Contrôle les informations de référent transmises lors de la navigation</li>
</ul>
<h3 id="enonce">Énoncé</h3>
<p>Vous développez une application web de gestion de tickets pour un service client. Cette application manipule des données sensibles comme les informations client et l'historique des demandes.</p>
<ol>
<li>Proposez une configuration appropriée des en-têtes de sécurité HTTP pour cette application</li>
<li>Expliquez le rôle de chaque en-tête et les protections qu'il apporte</li>
<li>Implémentez ces en-têtes dans un environnement PHP (ou le langage de votre choix)</li>
</ol>
<h3 id="correction">Correction</h3>
<h4 id="1-configuration-des-en-tetes-de-securite">1. Configuration des en-têtes de sécurité</h4>
<div class="highlight"><pre><span></span><code><span class="x">// Content-Security-Policy</span>
<span class="x">header(&quot;Content-Security-Policy: default-src &#39;self&#39;; script-src &#39;self&#39; https://trusted-cdn.com; style-src &#39;self&#39; https://trusted-cdn.com; img-src &#39;self&#39; data:; connect-src &#39;self&#39;; font-src &#39;self&#39;; object-src &#39;none&#39;; media-src &#39;self&#39;; frame-src &#39;none&#39;; frame-ancestors &#39;none&#39;; form-action &#39;self&#39;;&quot;);</span>

<span class="x">// Protection XSS</span>
<span class="x">header(&quot;X-XSS-Protection: 1; mode=block&quot;);</span>

<span class="x">// Empêcher le MIME sniffing</span>
<span class="x">header(&quot;X-Content-Type-Options: nosniff&quot;);</span>

<span class="x">// Protection contre le clickjacking</span>
<span class="x">header(&quot;X-Frame-Options: DENY&quot;);</span>

<span class="x">// Forcer HTTPS</span>
<span class="x">header(&quot;Strict-Transport-Security: max-age=31536000; includeSubDomains; preload&quot;);</span>

<span class="x">// Contrôler les informations de référent</span>
<span class="x">header(&quot;Referrer-Policy: strict-origin-when-cross-origin&quot;);</span>

<span class="x">// Protection des cookies</span>
<span class="x">header(&quot;Set-Cookie: session=123; HttpOnly; Secure; SameSite=Strict&quot;);</span>
</code></pre></div>
<h4 id="2-role-de-chaque-en-tete">2. Rôle de chaque en-tête</h4>
<ol>
<li><strong>Content-Security-Policy</strong> : </li>
<li>Définit les sources fiables pour chaque type de contenu</li>
<li>Bloque l'exécution de scripts non autorisés et prévient les attaques XSS</li>
<li>
<p>Empêche le chargement de ressources depuis des domaines non approuvés</p>
</li>
<li>
<p><strong>X-XSS-Protection</strong> : </p>
</li>
<li>Active la protection contre les XSS intégrée aux navigateurs</li>
<li>
<p><code>mode=block</code> arrête complètement le rendu de la page en cas de détection d'attaque</p>
</li>
<li>
<p><strong>X-Content-Type-Options</strong> : </p>
</li>
<li>Empêche le navigateur de "deviner" le type MIME d'une ressource</li>
<li>
<p>Prévient les attaques basées sur le MIME sniffing</p>
</li>
<li>
<p><strong>X-Frame-Options</strong> : </p>
</li>
<li>Empêche l'application d'être chargée dans un iframe</li>
<li>
<p>Protège contre les attaques de clickjacking</p>
</li>
<li>
<p><strong>Strict-Transport-Security</strong> : </p>
</li>
<li>Force le navigateur à utiliser HTTPS pour toutes les requêtes</li>
<li>Protège contre les attaques de déclassement HTTPS vers HTTP</li>
<li><code>includeSubDomains</code> applique la politique à tous les sous-domaines</li>
<li>
<p><code>preload</code> permet l'inclusion dans la liste de préchargement HSTS des navigateurs</p>
</li>
<li>
<p><strong>Referrer-Policy</strong> : </p>
</li>
<li>Contrôle les informations d'origine transmises lors de la navigation</li>
<li>
<p>Protège les informations sensibles présentes dans les URLs</p>
</li>
<li>
<p><strong>Set-Cookie avec attributs de sécurité</strong> : </p>
</li>
<li><code>HttpOnly</code> empêche l'accès aux cookies via JavaScript</li>
<li><code>Secure</code> limite l'envoi des cookies aux connexions HTTPS</li>
<li><code>SameSite=Strict</code> protège contre les attaques CSRF</li>
</ol>
<h4 id="3-implementation-dans-differents-environnements">3. Implémentation dans différents environnements</h4>
<p><strong>PHP</strong> (comme montré ci-dessus)</p>
<p><strong>Node.js (Express)</strong>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">helmet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;helmet&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">express</span><span class="p">();</span>

<span class="c1">// Utilisation de helmet pour configurer automatiquement les en-têtes de sécurité</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">helmet</span><span class="p">());</span>

<span class="c1">// Personnalisation supplémentaire si nécessaire</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">helmet</span><span class="p">.</span><span class="nx">contentSecurityPolicy</span><span class="p">({</span>
<span class="w">  </span><span class="nx">directives</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">defaultSrc</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;&#39;self&#39;&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nx">scriptSrc</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;&#39;self&#39;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;https://trusted-cdn.com&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="c1">// Autres directives...</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}));</span>
</code></pre></div></p>
<p><strong>Java (Spring)</strong>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WebSecurityConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">WebSecurityCustomizer</span><span class="w"> </span><span class="nf">webSecurityCustomizer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">web</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">web</span><span class="p">.</span><span class="na">httpStrictTransportSecurity</span><span class="p">().</span><span class="na">maxAgeInSeconds</span><span class="p">(</span><span class="mi">31536000</span><span class="p">)</span>
<span class="w">                           </span><span class="p">.</span><span class="na">includeSubDomains</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                           </span><span class="p">.</span><span class="na">preload</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">                           </span><span class="p">.</span><span class="na">and</span><span class="p">()</span>
<span class="w">                           </span><span class="p">.</span><span class="na">contentSecurityPolicy</span><span class="p">(</span><span class="s">&quot;default-src &#39;self&#39;; script-src &#39;self&#39; https://trusted-cdn.com;&quot;</span><span class="p">)</span>
<span class="w">                           </span><span class="c1">// Autres configurations...</span>
<span class="w">                           </span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="exercice-52-securisation-des-api-rest-20-min">Exercice 5.2 : Sécurisation des API REST (20 min)</h2>
<h3 id="rappel-theorique_1">Rappel théorique</h3>
<p>Les API REST (Representational State Transfer) sont omniprésentes dans le développement d'applications modernes. Leur sécurisation est cruciale car elles exposent souvent des données sensibles et des fonctionnalités critiques.</p>
<p>Les principales mesures de sécurité pour les API REST incluent :
- <strong>Authentification</strong> : Vérifier l'identité de l'appelant (JWT, OAuth 2.0, clés API)
- <strong>Autorisation</strong> : Vérifier les droits d'accès aux ressources
- <strong>Validation des entrées</strong> : Prévenir les injections et autres attaques
- <strong>Chiffrement</strong> : Protéger les données en transit (HTTPS)
- <strong>Limitation de débit</strong> : Prévenir les abus et les attaques par déni de service
- <strong>Journalisation et surveillance</strong> : Détecter les comportements suspects</p>
<h3 id="enonce_1">Énoncé</h3>
<p>Vous développez une API REST pour une application de gestion de projets. Cette API permet aux utilisateurs de créer, lire, mettre à jour et supprimer des projets et des tâches.</p>
<ol>
<li>Identifiez les risques de sécurité spécifiques à cette API</li>
<li>Proposez une stratégie d'authentification et d'autorisation adaptée</li>
<li>Implémentez un exemple de validation des entrées et de limitation de débit</li>
</ol>
<h3 id="correction_1">Correction</h3>
<h4 id="1-risques-de-securite-specifiques">1. Risques de sécurité spécifiques</h4>
<ul>
<li><strong>Accès non autorisé aux données</strong> : Un utilisateur pourrait accéder aux projets ou tâches d'autres utilisateurs</li>
<li><strong>Élévation de privilèges</strong> : Un utilisateur pourrait modifier ses droits ou accéder à des fonctionnalités administratives</li>
<li><strong>Injection de données malveillantes</strong> : Insertion de code malveillant dans les champs de titre ou description</li>
<li><strong>Exposition excessive d'informations</strong> : Retour de données sensibles dans les réponses (métadonnées, informations de débogage)</li>
<li><strong>Attaques par force brute</strong> : Tentatives répétées d'authentification</li>
<li><strong>Attaques par déni de service</strong> : Surcharge de l'API par de nombreuses requêtes</li>
<li><strong>Man-in-the-Middle</strong> : Interception des communications non chiffrées</li>
</ul>
<h4 id="2-strategie-dauthentification-et-dautorisation">2. Stratégie d'authentification et d'autorisation</h4>
<p><strong>Authentification</strong>
- Utilisation de JWT (JSON Web Tokens) avec une courte durée de validité (15-30 minutes)
- Mise en place d'un mécanisme de rafraîchissement de token sécurisé
- Authentification à deux facteurs pour les actions sensibles (suppression de projet, modification des membres)</p>
<p><strong>Autorisation</strong>
- Modèle RBAC (Role-Based Access Control) avec les rôles :
  * Admin : accès complet à tous les projets et utilisateurs
  * Chef de projet : CRUD sur ses projets et leurs tâches
  * Membre : lecture complète, création/modification de tâches, pas de suppression
  * Observateur : lecture seule</p>
<ul>
<li>Vérification d'autorisation à deux niveaux :</li>
<li>Niveau global : le rôle a-t-il accès à cette ressource ?</li>
<li>Niveau ressource : l'utilisateur a-t-il une relation avec cette ressource spécifique ?</li>
</ul>
<p><strong>Exemple d'implémentation en pseudo-code</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// Middleware d&#39;authentification</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="o">?</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)[</span><span class="mf">1</span><span class="p">];</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">401</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Non authentifié&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">decoded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jwt</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="nx">SECRET_KEY</span><span class="p">);</span>
<span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">decoded</span><span class="p">;</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">401</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Token invalide&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Middleware d&#39;autorisation</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="nx">requiredRole</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">hasRole</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">,</span><span class="w"> </span><span class="nx">requiredRole</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">403</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Accès non autorisé&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Middleware d&#39;autorisation au niveau ressource</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">authorizeProjectAccess</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">projectId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">projectId</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">userId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>

<span class="w">  </span><span class="nx">ProjectMember</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="w"> </span><span class="nx">where</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">projectId</span><span class="p">,</span><span class="w"> </span><span class="nx">userId</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">membership</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">membership</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">403</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Accès non autorisé à ce projet&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nx">req</span><span class="p">.</span><span class="nx">projectRole</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">membership</span><span class="p">.</span><span class="nx">role</span><span class="p">;</span>
<span class="w">      </span><span class="nx">next</span><span class="p">();</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Routes avec authentification et autorisation</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/projects&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;member&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">getProjects</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/projects&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;project_manager&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">createProject</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/projects/:projectId&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorizeProjectAccess</span><span class="p">,</span><span class="w"> </span><span class="nx">getProject</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s1">&#39;/projects/:projectId&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">deleteProject</span><span class="p">);</span>
</code></pre></div></p>
<h4 id="3-validation-des-entrees-et-limitation-de-debit">3. Validation des entrées et limitation de débit</h4>
<p><strong>Validation des entrées</strong>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">validationResult</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express-validator&#39;</span><span class="p">);</span>

<span class="c1">// Middleware de validation pour la création/mise à jour de projet</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">validateProject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">).</span><span class="nx">isString</span><span class="p">().</span><span class="nx">trim</span><span class="p">().</span><span class="nx">isLength</span><span class="p">({</span><span class="w"> </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;Le nom doit contenir entre 3 et 100 caractères&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isString</span><span class="p">().</span><span class="nx">trim</span><span class="p">().</span><span class="nx">isLength</span><span class="p">({</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;La description ne doit pas dépasser 1000 caractères&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;startDate&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isISO8601</span><span class="p">().</span><span class="nx">toDate</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;La date de début doit être une date valide&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;endDate&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isISO8601</span><span class="p">().</span><span class="nx">toDate</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">custom</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">req</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">startDate</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">startDate</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;La date de fin doit être postérieure à la date de début&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;members&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isArray</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;Les membres doivent être un tableau&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;members.*.id&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isInt</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;L\&#39;ID du membre doit être un entier&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">body</span><span class="p">(</span><span class="s1">&#39;members.*.role&#39;</span><span class="p">).</span><span class="nx">optional</span><span class="p">().</span><span class="nx">isIn</span><span class="p">([</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;member&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;observer&#39;</span><span class="p">])</span>
<span class="w">    </span><span class="p">.</span><span class="nx">withMessage</span><span class="p">(</span><span class="s1">&#39;Le rôle doit être admin, member ou observer&#39;</span><span class="p">),</span>

<span class="w">  </span><span class="c1">// Middleware pour vérifier les résultats de validation</span>
<span class="w">  </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">errors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validationResult</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">errors</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">errors</span><span class="o">:</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">array</span><span class="p">()</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">];</span>

<span class="c1">// Utilisation du middleware de validation</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/projects&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;project_manager&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">validateProject</span><span class="p">,</span><span class="w"> </span><span class="nx">createProject</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s1">&#39;/projects/:projectId&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authenticate</span><span class="p">,</span><span class="w"> </span><span class="nx">authorizeProjectAccess</span><span class="p">,</span><span class="w"> </span><span class="nx">validateProject</span><span class="p">,</span><span class="w"> </span><span class="nx">updateProject</span><span class="p">);</span>
</code></pre></div></p>
<p><strong>Limitation de débit</strong>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">rateLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express-rate-limit&#39;</span><span class="p">);</span>

<span class="c1">// Limitation globale</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">globalLimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rateLimit</span><span class="p">({</span>
<span class="w">  </span><span class="nx">windowMs</span><span class="o">:</span><span class="w"> </span><span class="mf">15</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 15 minutes</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span><span class="w"> </span><span class="c1">// 100 requêtes par fenêtre par IP</span>
<span class="w">  </span><span class="nx">standardHeaders</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">legacyHeaders</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Trop de requêtes, veuillez réessayer plus tard&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Limitation spécifique pour l&#39;authentification</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">authLimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rateLimit</span><span class="p">({</span>
<span class="w">  </span><span class="nx">windowMs</span><span class="o">:</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 1 heure</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="c1">// 5 tentatives par heure par IP</span>
<span class="w">  </span><span class="nx">standardHeaders</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">legacyHeaders</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Trop de tentatives de connexion, veuillez réessayer plus tard&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Application des limiteurs</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">globalLimiter</span><span class="p">);</span><span class="w"> </span><span class="c1">// Limitation globale</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">authLimiter</span><span class="p">,</span><span class="w"> </span><span class="nx">login</span><span class="p">);</span><span class="w"> </span><span class="c1">// Limitation spécifique</span>
</code></pre></div></p>
<h2 id="exercice-53-securisation-du-deploiement-dapplications-20-min">Exercice 5.3 : Sécurisation du déploiement d'applications (20 min)</h2>
<h3 id="rappel-theorique_2">Rappel théorique</h3>
<p>La sécurité du déploiement d'applications est un aspect crucial du cycle de développement sécurisé (SDLC). Elle comprend plusieurs aspects :</p>
<ul>
<li><strong>Intégration continue et déploiement continu (CI/CD)</strong> : Automatisation des tests de sécurité</li>
<li><strong>Analyse de code statique et dynamique</strong> : Détection des vulnérabilités avant déploiement</li>
<li><strong>Gestion des dépendances</strong> : Vérification des bibliothèques tierces</li>
<li><strong>Gestion des secrets</strong> : Protection des identifiants et clés d'API</li>
<li><strong>Configuration sécurisée des environnements</strong> : Durcissement des serveurs et services</li>
</ul>
<h3 id="enonce_2">Énoncé</h3>
<p>Vous êtes responsable du déploiement d'une application web développée en PHP/Laravel (ou framework de votre choix) qui sera hébergée sur un serveur cloud.</p>
<ol>
<li>Proposez une stratégie CI/CD intégrant des contrôles de sécurité</li>
<li>Décrivez comment gérer les secrets (clés API, identifiants de base de données) de manière sécurisée</li>
<li>Proposez une checklist de sécurité pré-déploiement</li>
</ol>
<h3 id="correction_2">Correction</h3>
<h4 id="1-strategie-cicd-avec-controles-de-securite">1. Stratégie CI/CD avec contrôles de sécurité</h4>
<p><strong>Pipeline CI/CD avec GitHub Actions</strong>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CI/CD Pipeline</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">main</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">develop</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">main</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">develop</span><span class="w"> </span><span class="p p-Indicator">]</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">security-checks</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>

<span class="w">      </span><span class="c1"># Installation des dépendances</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composer install --no-dev --no-interaction --prefer-dist</span>

<span class="w">      </span><span class="c1"># Analyse statique du code</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PHP Static Analysis</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./vendor/bin/phpstan analyse src tests</span>

<span class="w">      </span><span class="c1"># Vérification des vulnérabilités des dépendances</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Security Check</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">composer audit</span>

<span class="w">      </span><span class="c1"># Tests de sécurité automatisés</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Security Tests</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./vendor/bin/phpunit --testsuite=security</span>

<span class="w">  </span><span class="nt">build-and-test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">security-checks</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Tests unitaires et d&#39;intégration standard</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Tests</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./vendor/bin/phpunit</span>

<span class="w">      </span><span class="c1"># Construction des artefacts</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build Application</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm run build</span>

<span class="w">  </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build-and-test</span>
<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.ref == &#39;refs/heads/main&#39;</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Déploiement avec configuration sécurisée</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to Production</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">appleboy/ssh-action@master</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.HOST }}</span>
<span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.USERNAME }}</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.SSH_KEY }}</span>
<span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">cd /var/www/app</span>
<span class="w">            </span><span class="no">git pull origin main</span>
<span class="w">            </span><span class="no">composer install --no-dev</span>
<span class="w">            </span><span class="no">php artisan migrate --force</span>
<span class="w">            </span><span class="no">php artisan config:cache</span>
<span class="w">            </span><span class="no">php artisan route:cache</span>
<span class="w">            </span><span class="no">php artisan view:cache</span>
</code></pre></div></p>
<p><strong>Intégration avec des outils de sécurité supplémentaires</strong>
- SAST (Static Application Security Testing) : SonarQube, Snyk, ou RIPS
- DAST (Dynamic Application Security Testing) : OWASP ZAP
- SCA (Software Composition Analysis) : Dependabot, Snyk</p>
<h4 id="2-gestion-securisee-des-secrets">2. Gestion sécurisée des secrets</h4>
<p><strong>Approche recommandée</strong>
1. <strong>Utilisation d'un gestionnaire de secrets</strong>
   - AWS Secrets Manager, HashiCorp Vault, ou Azure Key Vault
   - Rotation automatique des secrets
   - Accès aux secrets basé sur les rôles</p>
<ol>
<li><strong>Variables d'environnement sécurisées</strong></li>
<li>Ne jamais stocker les secrets dans le code source</li>
<li>Utiliser des variables d'environnement injectées au moment du déploiement</li>
<li>
<p>Fichier <code>.env</code> uniquement pour le développement local, jamais commité</p>
</li>
<li>
<p><strong>Gestion des secrets dans le pipeline CI/CD</strong></p>
</li>
<li>Secrets stockés dans GitHub Secrets ou équivalent</li>
<li>Injection sécurisée lors du déploiement</li>
<li>Accès limité aux actions qui en ont besoin</li>
</ol>
<p><strong>Exemple avec Laravel</strong>
<div class="highlight"><pre><span></span><code><span class="x">// config/database.php</span>
<span class="x">&#39;mysql&#39; =&gt; [</span>
<span class="x">    &#39;driver&#39; =&gt; &#39;mysql&#39;,</span>
<span class="x">    &#39;host&#39; =&gt; env(&#39;DB_HOST&#39;, &#39;127.0.0.1&#39;),</span>
<span class="x">    &#39;port&#39; =&gt; env(&#39;DB_PORT&#39;, &#39;3306&#39;),</span>
<span class="x">    &#39;database&#39; =&gt; env(&#39;DB_DATABASE&#39;, &#39;forge&#39;),</span>
<span class="x">    &#39;username&#39; =&gt; env(&#39;DB_USERNAME&#39;, &#39;forge&#39;),</span>
<span class="x">    &#39;password&#39; =&gt; env(&#39;DB_PASSWORD&#39;, &#39;&#39;),</span>
<span class="x">    &#39;unix_socket&#39; =&gt; env(&#39;DB_SOCKET&#39;, &#39;&#39;),</span>
<span class="x">    &#39;charset&#39; =&gt; &#39;utf8mb4&#39;,</span>
<span class="x">    &#39;collation&#39; =&gt; &#39;utf8mb4_unicode_ci&#39;,</span>
<span class="x">    &#39;prefix&#39; =&gt; &#39;&#39;,</span>
<span class="x">    &#39;strict&#39; =&gt; true,</span>
<span class="x">    &#39;engine&#39; =&gt; null,</span>
<span class="x">],</span>
</code></pre></div></p>
<p><strong>Scénario de déploiement</strong>
1. Les secrets sont stockés dans AWS Secrets Manager
2. Lors du déploiement, un script récupère les secrets et les injecte dans le fichier <code>.env</code> sur le serveur
3. L'application charge les variables d'environnement au démarrage
4. Le fichier <code>.env</code> est protégé avec des permissions strictes (600)</p>
<h4 id="3-checklist-de-securite-pre-deploiement">3. Checklist de sécurité pré-déploiement</h4>
<p><strong>Sécurité du code et des dépendances</strong>
- [ ] Analyse statique de code effectuée et aucune vulnérabilité critique détectée
- [ ] Audit des dépendances effectué et aucune CVE critique
- [ ] Tests de sécurité automatisés passés avec succès
- [ ] Revue de code par un pair avec focus sur la sécurité</p>
<p><strong>Configuration de l'application</strong>
- [ ] Mode débogage désactivé en production
- [ ] En-têtes de sécurité HTTP configurés
- [ ] Protection CSRF activée
- [ ] Validation des entrées mise en place
- [ ] Gestion des erreurs configurée pour ne pas exposer d'informations sensibles
- [ ] Sessions configurées avec les attributs de sécurité appropriés</p>
<p><strong>Sécurité de l'infrastructure</strong>
- [ ] Serveur web configuré avec HTTPS obligatoire
- [ ] Certificats SSL/TLS valides et à jour
- [ ] Pare-feu configuré pour n'exposer que les ports nécessaires
- [ ] Permissions de fichiers restrictives
- [ ] Services non essentiels désactivés</p>
<p><strong>Gestion des accès</strong>
- [ ] Comptes de service avec privilèges minimaux
- [ ] Authentification forte pour les accès admin
- [ ] Journalisation des accès activée
- [ ] Stratégie de sauvegarde et de restauration testée</p>
<p><strong>Suivi et surveillance</strong>
- [ ] Système de journalisation configuré
- [ ] Alertes pour les comportements suspects
- [ ] Surveillance des performances mise en place
- [ ] Plan de réponse aux incidents défini
```</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "content.code.copy", "navigation.top", "navigation.tracking", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>